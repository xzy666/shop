!function(t){t.popup=function(t){return new o(t)};var o=function(o){var n={title:"",content:"",button:[],width:"auto",height:"auto",modal:!1,callback:null,className:""};this.options=t.extend(n,o),this.init()};o.prototype={init:function(){var o=this,n='style="width:'+o.options.width+";height:"+o.options.height+';"',e='<div  class="popup"><table><tr><td  data-role="mask"><div class="popup-container" '+n+">";if(o.options.title.length&&(e+='<div class="popup-header">'+o.options.title+"</div>"),e+='<div class="popup-content" ></div>',o.options.button.length){e+='<div class="popup-footer">';var i=o.options.button;for(var a in i)e+='<a href="javascript:;" style="width:'+100/i.length+'%;">'+i[a].text+"</a>";e+="</td></tr></table></div>"}this.$element=t(e).appendTo("body"),this.$element.find(".popup-content").html(o.options.content),this.$element.find(".popup-footer>a").each(function(n,e){t(e).on("click",function(t){var e=o.options.button[n].callback;"function"==typeof e&&e(t,o)})}),t(o.$element).on({click:function(n){var e=n.target;if("mask"==t(e).data("role")&&0==o.options.modal&&o.close(),t(e).data("callback")){var i=o.options.callback&&o.options.callback[t(e).data("callback")];"function"==typeof i&&i(n,o)}}}),t(window).on("resize",function(){o.$element.hasClass("is-visible")&&o.show()})},show:function(){var t=this;t.$element.addClass("is-visible"),t.$element.addClass(t.options.className)},hide:function(){this.$element.removeClass("is-visible")},close:function(){this.$element.remove()}};var n={};n.alert=function(o,n){var e=t.popup({content:o,modal:!0,className:"popup-alert",button:[{text:"确认",callback:function(t,o,e,i){o.close(),n&&n()}}]});return e.show(),e},n.confirm=function(o,n,e){var i=t.popup({content:o,modal:!0,className:"popup-confirm",button:[{text:"取消",callback:function(t,o,n,i){e&&e(),o.close()}},{text:"确认",callback:function(t,o,e,i){n&&n(),o.close()}}]});return i.show(),i},n.cute=function(o,n,e){var i=t.popup({content:o,modal:!0,className:"popup-cute"});return i.show(),n=n||1200,"function"==typeof n&&(e=n,n=1200),0!=n&&setTimeout(function(){i.close(),e&&e()},n),i},n.loading=function(o){1==o?0==t(".popup-loading").length&&t.popup({className:"popup-loading",content:"",modal:!0}).show():t(".popup-loading").remove()},window.popup=n}(window.jQuery||window.Zepto);